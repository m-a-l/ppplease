<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‚ô•‚ô• Please ‚ô•‚ô•</title>
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <style>
    body {
      background-color: cornflowerblue;
      color: aliceblue;
      font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
      position: relative;
      margin: 0;
    }
    .hidden {
      display: none;
    }
    .container {
      width: 350px;
      margin: auto;
      padding-top: 20vh;
    }
    button {
      background-color:#95F58F;
      width: 150px;
      height: 50px;
      border: none;
      border-radius: 5px;
      color: white;
      position: absolute;
    }
    button:hover {
      cursor: pointer;
    }
    #nobutton {
      position: absolute;
      left: 50vw;
    }
    #yesbutton:hover {
      background-color: #bbf4b8;
    }
    #question-text {
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container" id="question-container">
    <h1 id="question-text">Accept ü•∫ üëâüëà ?</h1>
    <img src="./icegif-68.gif" alt="stich-cute">
    <div class="buttons">
      <button id="yesbutton">Yes</button>
      <button id="nobutton">No</button>
    </div>
  </div>
  <div class="container hidden" id="answeredyes">
    <h1>Yaaaaaaaay ‚ù§Ô∏è</h1>
    <img src="./icegif-807.gif" alt="stich-cute">
  </div>
  <script>
    const queryString = window.location.search;
    const textToAsk = new URLSearchParams(queryString).get('q');
    const questionText = document.getElementById('question-text') 
    const nobutton = document.getElementById('nobutton')
    const yesbutton = document.getElementById('yesbutton')
    const answeredyesContainer = document.getElementById('answeredyes')
    const questionContainer = document.getElementById('question-container')

    if(textToAsk != '' && textToAsk != null) {
      questionText.innerText = decodeBase64(textToAsk)
    }

    yesbutton.addEventListener('click', (event) => {
      questionContainer.classList.add('hidden');
      answeredyesContainer.classList.remove('hidden');
    });
    nobutton.addEventListener('mouseover', handleMouseOver);

    function handleMouseOver(event) {
      // Get the current mouse position
      const mouseX = event.clientX;
      const mouseY = event.clientY;
      // Update the position of the element
      nobutton.style.left = mouseX + "px";
      nobutton.style.top = mouseY + "px";
    }


    function decodeBase64(base64) {
      const binString = atob(base64);
      const bytes = Uint8Array.from(binString, (m) => m.codePointAt(0));

      return new TextDecoder().decode(bytes)
    }
  </script>
</body>
</html>